<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title }} – {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

    <style>
      /* Allgemeine Feinjustierung */
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
      }

      .wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        display: flex;
        gap: 2rem;
        align-items: flex-start;
      }

      /* Sidebar (links) */
      header {
        flex: 0 0 220px; /* feste Breite der linken Spalte */
      }

      header nav ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
      }

      header nav ul li {
        margin-bottom: 0.3rem;
      }

      header nav a {
        text-decoration: none;
        display: block;           /* größere Klickfläche */
        padding: 0.2rem 0.4rem;
      }

      header nav a:hover {
        text-decoration: underline;
      }

      /* Aktiver Menüpunkt hell hinterlegt */
      header nav a.active {
        background: #f5f5f5;
        border-radius: 4px;
        font-weight: bold;
      }

      /* Inhaltsbereich (rechts) */
      section {
        flex: 1;
        min-width: 0; /* verhindert horizontales Überlaufen */
        word-wrap: break-word;
        overflow-wrap: anywhere; /* lange DOIs/Links umbrechen */
      }

      section img {
        max-width: 100%;
        height: auto;
      }

      /* Smartphone-Ansicht */
      @media (max-width: 700px) {
        .wrapper {
          padding: 1rem;
          flex-direction: column;  /* untereinander statt nebeneinander */
        }

        header {
          width: 100%;
        }

        section {
          width: 100%;
          font-size: 0.95rem;
        }

        /* Tap Targets auf dem Handy etwas größer */
        header nav a {
          padding: 0.4rem 0.4rem;
        }

        /* Profilbild & andere Bilder auf Handy zentrieren */
        section img {
          float: none !important;
          display: block;
          margin: 0 auto 1rem auto !important;
          max-width: 70%;
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <header>
        <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>

        {% if site.description %}
        <p>{{ site.description }}</p>
        {% endif %}

        <nav>
          <ul>
            <li>
              <a href="{{ '/' | relative_url }}"
                 class="{% if page.url == '/' %}active{% endif %}">
                Home
              </a>
            </li>
            <li>
              <a href="{{ '/publications' | relative_url }}"
                 class="{% if page.url contains '/publications' %}active{% endif %}">
                Publications
              </a>
            </li>
            <li>
              <a href="{{ '/teaching' | relative_url }}"
                 class="{% if page.url contains '/teaching' %}active{% endif %}">
                Teaching
              </a>
            </li>
            <li>
              <a href="{{ '/cv' | relative_url }}"
                 class="{% if page.url contains '/cv' %}active{% endif %}">
                CV
              </a>
            </li>
            <li>
              <a href="{{ '/Impressum' | relative_url }}"
                 class="{% if page.url contains '/Impressum' %}active{% endif %}">
                Impressum
              </a>
            </li>
            <li>
              <a href="{{ '/Datenschutz' | relative_url }}"
                 class="{% if page.url contains '/Datenschutz' %}active{% endif %}">
                Datenschutz
              </a>
            </li>
          </ul>
        </nav>
      </header>

      <section>
        {{ content }}
      </section>
    </div>
  </body>
</html>
